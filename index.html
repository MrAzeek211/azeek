<!DOCTYPE html>
const lines = reader.result.split('\n').slice(1);
data = [];


lines.forEach(l => {
const [pasal,keterangan,hukuman,denda] = l.split(',');
if (!pasal) return;
data.push({
pasal: pasal.trim(),
keterangan: keterangan.trim(),
hukuman: hukuman.trim(),
denda: denda.trim()
});
});


render();
};
reader.readAsText(file);
});


function render() {
tbody.innerHTML = '';
data.forEach((r,i) => {
const tr = document.createElement('tr');
tr.innerHTML = `
<td>${r.pasal}</td>
<td>${r.keterangan}</td>
<td>${r.hukuman}</td>
<td>${r.denda}</td>
<td>
<button class="edit">Edit</button>
<button class="hapus">Hapus</button>
</td>`;


tr.querySelector('.edit').addEventListener('click', () => edit(i));
tr.querySelector('.hapus').addEventListener('click', () => hapus(i));


tbody.appendChild(tr);
});
}


function edit(i) {
const r = data[i];
pasal.value = r.pasal;
keterangan.value = r.keterangan;
hukuman.value = r.hukuman;
denda.value = r.denda;
editIndex = i;
}


function hapus(i) {
data.splice(i,1);
render();
}


function simpan() {
const obj = {
pasal: pasal.value,
keterangan: keterangan.value,
hukuman: hukuman.value,
denda: denda.value
};


if (editIndex !== null) {
data[editIndex] = obj;
editIndex = null;
} else {
data.push(obj);
}


pasal.value = keterangan.value = hukuman.value = denda.value = '';
render();
}
</script>
</body>
</html>
