<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Data Pasal</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
    background: white;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
}

th {
    background: #222;
    color: white;
}

button {
    padding: 5px 10px;
    cursor: pointer;
}
</style>
</head>
<body>

<h2>Data Pasal</h2>

<input type="file" id="csvFile" accept=".csv">
<br><br>

<table>
<thead>
<tr>
    <th>Pilih</th>
    <th>Pasal</th>
    <th>Keterangan</th>
    <th>Hukuman</th>
    <th>Denda</th>
    <th>Aksi</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<script>
const tableBody = document.getElementById("tableBody");

document.getElementById("csvFile").addEventListener("change", function(e) {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(event) {
        const lines = event.target.result.trim().split("\n");
        tableBody.innerHTML = "";

        // skip header (index 0)
        for (let i = 1; i < lines.length; i++) {
            const data = lines[i].split(",");

            if (data.length < 4) continue;

            const pasal = data[0];
            const keterangan = data[1];
            const hukuman = data[2];
            const denda = data[3];

            const row = document.createElement("tr");

            row.innerHTML = `
                <td><input type="checkbox"></td>
                <td>${pasal}</td>
                <td>${keterangan}</td>
                <td>${hukuman}</td>
                <td>${denda}</td>
                <td>
                    <button onclick="editRow(this)">Edit</button>
                    <button onclick="deleteRow(this)">Hapus</button>
                </td>
            `;

            tableBody.appendChild(row);
        }
    };
    reader.readAsText(file);
});

function deleteRow(btn) {
    btn.closest("tr").remove();
}

function editRow(btn) {
    const row = btn.closest("tr");
    const cells = row.querySelectorAll("td");

    const pasal = prompt("Edit Pasal:", cells[1].innerText);
    const ket = prompt("Edit Keterangan:", cells[2].innerText);
    const huk = prompt("Edit Hukuman:", cells[3].innerText);
    const den = prompt("Edit Denda:", cells[4].innerText);

    if (pasal !== null) cells[1].innerText = pasal;
    if (ket !== null) cells[2].innerText = ket;
    if (huk !== null) cells[3].innerText = huk;
    if (den !== null) cells[4].innerText = den;
}
</script>

</body>
</html>
